<!doctype html>
<html>
    <head>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <!-- <link rel="stylesheet" href="./styles.css">
        <link rel="manifest" href="./manifest.json"> -->
        <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <style>
            body {
                margin: 0;
                padding: 0;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div class="mdc-tab-bar" role="tablist" data-mdc-auto-init="MDCTabBar">
            <div class="mdc-tab-scroller">
                <div class="mdc-tab-scroller__scroll-area">
                    <div class="mdc-tab-scroller__scroll-content">
                        <button class="mdc-tab mdc-tab--stacked mdc-tab--active" id='#form' role="tab" aria-selected="true" tabindex="0">
                            <span class="mdc-tab__content">
                                <span class="mdc-tab__icon material-icons" aria-hidden="true">pageview</span>
                                <span class="mdc-tab__text-label">Form</span>
                            </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--active">
                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                            </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>

                        <!-- Form tab section -->
                        <button class="mdc-tab mdc-tab--stacked mdc-tab--deactive" id='#list' role="tab" aria-selected="true" tabindex="1">
                            <span class="mdc-tab__content">
                                <span class="mdc-tab__icon material-icons" aria-hidden="true">list</span>
                                <span class="mdc-tab__text-label">List</span>
                            </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--deactive">
                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                            </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>

                        <!-- Map tab section -->
                        <button class="mdc-tab mdc-tab--stacked mdc-tab--deactive" id='#map' role="tab" aria-selected="true" tabindex="2">
                            <span class="mdc-tab__content">
                                <span class="mdc-tab__icon material-icons" aria-hidden="true">map</span>
                                <span class="mdc-tab__text-label">Map</span>
                            </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--deactive">
                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                            </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>

                        <!-- Weather tab section -->
                        <button class="mdc-tab mdc-tab--stacked mdc-tab--deactive" id='#weather' role="tab" aria-selected="true" tabindex="3">
                            <span class="mdc-tab__content">
                                <span class="mdc-tab__icon material-icons" aria-hidden="true">wb_sunny</span>
                                <span class="mdc-tab__text-label">Weather</span>
                            </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--deactive">
                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                            </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>

                        <!-- Favorite map section -->
                        <button class="mdc-tab mdc-tab--stacked mdc-tab--deactive" id='#favorite' role="tab" aria-selected="true" tabindex="4">
                            <span class="mdc-tab__content">
                                <span class="mdc-tab__icon material-icons" aria-hidden="true">favorite</span>
                                <span class="mdc-tab__text-label">Favorites</span>
                            </span>
                            <span class="mdc-tab-indicator mdc-tab-indicator--deactive">
                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                            </span>
                            <span class="mdc-tab__ripple"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script>
            window.mdc.autoInit();
            const tabBar = document.querySelector('.mdc-tab-bar').MDCTabBar;
        

        </script>
        <!-- <script>
            let getPosition;
            let yelpData;
            let weatherData;
            //gets the location of user
            if ("geolocation" in navigator) {
                getPosition = function (options) {
                    return new Promise(function (resolve, reject) {
                        navigator.geolocation.getCurrentPosition(resolve, reject, options);
                    });
                }   
            } else {
                /* geolocation IS NOT available */
                console.log("Don't have access to geolocation.")
            }

            //retrieves weather data and yelp data based on users location
            getPosition().then((position) => {
                var userLat = position.coords.latitude
                var userLong = position.coords.longitude
                let yelpURL = "https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?latitude="+userLat.toString()+"&longitude="+userLong.toString()+"&radius=30000&limit=40";   
                let weatherURL = "https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/4cefd5f8788a4c620b34ee756a53a1d2/"+userLat.toString()+","+userLong.toString()
                $.ajax({
                    url: yelpURL,
                    headers: {
                        'Authorization':'Bearer fsJPHz3ecv98ThJaK1MxqDaJT6ve2_ndPSVwMJLgUIt5A2ovpyjygyAUq63xE_lScOP2KALjJv4werBUdTMY3NEvkWspa0GnCDQ2QRaidhPqUnwfkobutGpL9mfVXXYx',
                    },
                    method: 'GET',
                    dataType: 'json',
                    success: function(data){
                        yelpData = data
                    }
                });
                $.get(weatherURL, function(data){
                    weatherData = data
                })
            })
            console.log(weatherData)

        </script> -->
    </body>

</html>